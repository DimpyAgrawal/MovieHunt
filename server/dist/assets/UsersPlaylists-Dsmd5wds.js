import{R as b,r as l,j as e,a as c}from"./index-R_0f9d_d.js";function f(){const[n,d]=l.useState([]),[r,i]=l.useState(!0),m="e350aff8",x=async a=>{try{return(await c.get(`http://www.omdbapi.com/?apikey=${m}&i=${a}`)).data}catch(s){return console.error("Error fetching movie details:",s),null}},h=async()=>{try{const s=(await c.get("/movie/allUsersData",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}})).data,p=await Promise.all(s.map(async o=>{const g=await Promise.all(o.movieLists.map(async t=>{if(t.public){const u=await x(t.id);return{...t,details:u}}return t}));return{...o,movieLists:g}}));d(p),i(!1)}catch(a){console.log("Error fetching all users data:",a),i(!1)}};return l.useEffect(()=>{h()},[]),e.jsxs("div",{className:"container mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-4xl ml-[5%] font-bold mb-4",children:"Others WishList"}),r&&e.jsx("div",{className:"loader"}),!r&&n.map(a=>e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl ml-[5%] font-semibold mb-4",children:a.name}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 ml-[5%] mr-[5%]",children:a.movieLists.filter(s=>s.public).map(s=>e.jsx("div",{className:"relative flex flex-col text-gray-700 bg-white shadow-md bg-clip-border rounded-xl",children:s.details&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"relative mx-4 mt-4 overflow-hidden text-gray-700 bg-white shadow-lg bg-clip-border rounded-xl h-80",children:e.jsx("img",{className:"w-full h-full object-cover",src:s.details.Poster!=="N/A"?s.details.Poster:"https://via.placeholder.com/300x450?text=No+Image",alt:s.details.Title})}),e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("h4",{className:"block mb-2 font-sans text-2xl antialiased font-semibold leading-snug tracking-normal text-blue-gray-900",children:s.details.Title}),e.jsx("p",{className:"block font-sans text-base text-black antialiased font-medium leading-relaxed",children:s.details.Year})]})]})},s.id))}),e.jsx("hr",{className:"h-px my-8 bg-black border-0 dark:bg-gray-700"})]},a._id))]})}const y=b.memo(f);export{y as default};
